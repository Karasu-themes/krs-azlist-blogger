"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),azList=function(){function r(e){_classCallCheck(this,r);document.body;var a=[].concat(_toConsumableArray("abcdefghijklmnopqrstuvwxyz")),i=this,l=this.mergeObject({blogId:"blog_id",apiKey:"api_key",selector:".krs-azlist"},e),t="https://www.googleapis.com/blogger/v3/blogs/"+l.blogId+"/posts?key="+l.apiKey+"&maxResults=500";fetch(t).then(function(e){if(e.ok)return e.json()}).then(function(e){var t=i.orderbyAZ(e.items,a),r=document.querySelector(l.selector);r.innerHTML="",r.appendChild(i.renderNav(a));for(var n=0;n<t.length;n++)0<t[n].items.length&&r.appendChild(i.render(t[n],l))})}return _createClass(r,[{key:"render",value:function(e,t){var r,n,a,i,l=document.createElement("div");return l.classList.add("krs-azlist__row"),l.appendChild((r="letra ",n=e.letter.toUpperCase(),a=document.createElement("div"),i=document.createElement("span"),a.classList.add("krs-azlist__headline"),a.id=n.toLowerCase(),i.classList.add("krs-azlist__count"),a.innerText=r+n,i.innerText=e.items.length+" entradas",a.appendChild(i),a)),l.appendChild(function(e){var t=document.createElement("div"),r=document.createElement("ul");t.classList.add("krs-azlist__body"),r.classList.add("krs-azlist__items");for(var n=0;n<e.length;n++)r.innerHTML+='<li><a href="'+e[n].url+'" title="'+e[n].title+'" target="_blank">'+(n+1)+" - "+e[n].title+"</a></li>";return t.appendChild(r),t}(e.items)),l}},{key:"renderNav",value:function(e){var t=document.createElement("div");t.classList.add("krs-azlist__nav");for(var r=0;r<e.length;r++){var n=document.createElement("a");n.href="#"+e[r],n.innerText=e[r],t.appendChild(n)}return t}},{key:"orderbyAZ",value:function(r,e){for(var n=e,a=[],t=function(){var t=n[i],e=r.filter(function(e){if(e.title.substr(0,1).toLowerCase()==t)return e});a[i]={letter:t,items:e}},i=0;i<n.length;i++)t();var l=r.filter(function(e){var t=e.title.substr(0,1).toLowerCase();if(!/[a-z]/g.test(t))return e});return a.unshift({letter:"#",items:l}),a}},{key:"mergeObject",value:function(e,t){var r;for(r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}}]),r}();